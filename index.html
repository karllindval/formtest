<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>GETTING STARTED WITH BRACKETS</title>
        <meta name="description" content="An interactive getting started guide for Brackets.">
        <link rel="stylesheet" href="main.css">
        <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
    </head>
    <body>
        
        <h1>Firebase test</h1>
        
        
        <div class="container">
  <h1 class="title">Contact Form</h1>
  <div class="wrapper animated bounceInLeft">
    <div class="contact">
      <h3 class="contact-us">Contact Us</h3>
      <div class="alert">Your message has been sent!</div>
      <form id="contactForm">
        <p class="name-field">
          <label>Name <span>*</span></label>
          <input type="text" name="name" id="name" required>
        </p>
        <p class="company-field">
          <label>Company</label>
          <input type="text" name="company" id="company">
        </p>
        <p class="email-field">
          <label>Email <span>*</span></label>
          <input type="email" name="email" id="email" required>
        </p>
        <p class="phone-field">
          <label>Phone</label>
          <input type="text" name="phone" id="phone">
        </p>
        <p class="message-field full">
          <label>Message</label>
          <textarea name="message" rows="5" id="message"></textarea>
        </p>
        <p class="required-field">Required field <span>*</span></p>
        <p class="submit-button">
          <button type="submit">Submit</button>
        </p>
      </form>
    </div>
  </div>
</div>
        
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
             https://firebase.google.com/docs/web/setup#available-libraries -->

        <script>
          // Your web app's Firebase configuration
          var firebaseConfig = {
            apiKey: "AIzaSyBmjamIwv4gXIIC1TG1SqfBa2jgG6B-D3s",
            authDomain: "formtest-1c30f.firebaseapp.com",
            databaseURL: "https://formtest-1c30f.firebaseio.com",
            projectId: "formtest-1c30f",
            storageBucket: "formtest-1c30f.appspot.com",
            messagingSenderId: "601560401421",
            appId: "1:601560401421:web:a61099b6d5f9dae4f23744"
          };
          // Initialize Firebase
          firebase.initializeApp(firebaseConfig);
            
// Reference messages collection
var messagesRef = firebase.database().ref('messages');

// Listen for form submit
document.getElementById('contactForm').addEventListener('submit', submitForm);

// Submit form
function submitForm(e){
  e.preventDefault();

  //Get value
  var name = getInputVal('name');
  var company = getInputVal('company');
  var email = getInputVal('email');
  var phone = getInputVal('phone');
  var message = getInputVal('message');

  // Save message
  saveMessage(name, company, email, phone, message);

  // Show alert
  document.querySelector('.alert').style.display = 'block';

  // Hide alert after 3 seconds
  setTimeout(function(){
    document.querySelector('.alert').style.display = 'none';
  },3000);

  // Clear form
  document.getElementById('contactForm').reset();
}

// Function to get form value
function getInputVal(id){
  return document.getElementById(id).value;
}

// Save message to firebase
function saveMessage(name, company, email, phone, message){
  var newMessageRef = messagesRef.push();
  newMessageRef.set({
    name: name,
    company: company,
    email: email,
    phone: phone,
    message: message
  });
}
        </script>
        
    </body>
</html>
